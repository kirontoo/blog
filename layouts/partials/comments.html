<!--
To add comments section, please create `layouts/partials/comments.html` in your
Hugo directory and insert:

{{ template "_internal/disqus.html" . }}

or whatever comment engine you want -> https://gohugo.io/content-management/comments/#readout
-->

{{ if and site.Params.cactusCommentsSiteName (.Params.comments | default true) }}
<script type="text/javascript" src="https://latest.cactus.chat/cactus.js"></script>

<div id="cactus-comments"></div>

<script>
initComments({
    node: document.getElementById("cactus-comments"),
    defaultHomeserverUrl: '{{ site.Params.cactusCommentsHomeserver | default "https://matrix.cactus.chat:8448" }}',
    serverName: '{{ site.Params.cactusCommentsServerName | default "cactus.chat" }}',
    siteName: "{{ site.Params.cactusCommentsSiteName }}",
    commentSectionId: "{{ .File.UniqueID }}"
})

const cactusBtns = document.getElementsByClassName("cactus-button");
for(let i = 0; i < cactusBtns.length; i++ ) {
    cactusBtns[i].classList.add('button');
}

const cactusComment = document.getElementsByClassName("cactus-editor-textarea")[0];
cactusComment.rows = 7;
</script>
{{ end }}
