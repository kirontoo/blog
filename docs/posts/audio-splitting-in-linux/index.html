<!doctype html><html lang=en><head><title>Audio Splitting in Linux :: Kironto</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Learn how to split audio sources using pulseaudio."><meta name=keywords content="linux,pulseaudio,twitch,audio,audio sink,audio splitting,audio split"><meta name=robots content="noodp"><link rel=canonical href=https://blog.rxkiro.xyz/posts/audio-splitting-in-linux/><script async src="https://www.googletagmanager.com/gtag/js?id=G-X88TJR147W"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-X88TJR147W",{anonymize_ip:!1})}</script><link rel=stylesheet href=https://blog.rxkiro.xyz/styles.css><link rel=stylesheet href=https://blog.rxkiro.xyz/style.css><link rel="shortcut icon" href=https://blog.rxkiro.xyz/img/theme-colors/orange.png><link rel=apple-touch-icon href=https://blog.rxkiro.xyz/img/theme-colors/orange.png><meta name=twitter:card content="summary"><meta name=twitter:site content="rxkironto"><meta name=twitter:creator content="rxkironto"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Audio Splitting in Linux"><meta property="og:description" content="Learn how to split audio sources using pulseaudio."><meta property="og:url" content="https://blog.rxkiro.xyz/posts/audio-splitting-in-linux/"><meta property="og:site_name" content="Kironto"><meta property="og:image" content="https://blog.rxkiro.xyz/"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:published_time" content="2022-05-24 12:50:35 -0700 PDT"></head><body class=orange><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>[kironto] $</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/whoami>whoami</a></li><li><a href=/posts>posts</a></li><li><a href=/contact>contact</a></li><li><a href=/categories/>categories</a></li><li><a href=/series/>series</a></li><li><a href=/tags/>tags</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/whoami>whoami</a></li><li><a href=/posts>posts</a></li><li><a href=/contact>contact</a></li><li><ul class=menu><li class=menu__trigger>Show more&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/categories/>categories</a></li><li><a href=/series/>series</a></li><li><a href=/tags/>tags</a></li></ul></li></ul></li></ul></nav></header><div class=content><article class=post><h1 class=post-title><a href=https://blog.rxkiro.xyz/posts/audio-splitting-in-linux/>Audio Splitting in Linux</a></h1><div class=post-meta><time class=post-date>2022-05-24 ::
[Updated :: 2022-05-24]</time>
<span class=post-author>Amy Dang</span>
<span class=post-reading-time>:: 3 min read (467 words)</span></div><span class=post-tags>#<a href=https://blog.rxkiro.xyz/tags/linux/>linux</a>&nbsp;
#<a href=https://blog.rxkiro.xyz/tags/pulseaudio/>pulseaudio</a>&nbsp;
#<a href=https://blog.rxkiro.xyz/tags/audio/>audio</a>&nbsp;</span><div class=table-of-contents><h2>Table of Contents</h2><nav id=TableOfContents><ul><li><a href=#pre-requisites>Pre-Requisites</a><ul><li><a href=#install-for-ubuntu>Install For Ubuntu</a></li><li><a href=#install-for-arch>Install For Arch</a></li></ul></li><li><a href=#setting-up-a-new-audio-sink>Setting up a new audio sink</a><ul><li><a href=#example>Example</a></li></ul></li><li><a href=#restart-pulseaudio-and-all-of-your-apps>Restart Pulseaudio And All Of Your Apps</a></li><li><a href=#pulseaudio-volume-control-app-pavucontrol>Pulseaudio Volume Control App (pavucontrol)</a></li><li><a href=#misc>Misc</a></li></ul></nav></div><div class=post-content><div><h2 id=pre-requisites>Pre-Requisites<a href=#pre-requisites class=hanchor arialabel=Anchor>&#8983;</a></h2><p>You&rsquo;ll need to have both <code>pulseaudio</code> and <code>pavucontrol</code> installed on your system</p><h3 id=install-for-ubuntu>Install For Ubuntu<a href=#install-for-ubuntu class=hanchor arialabel=Anchor>&#8983;</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get pulseaudio pavucontrol
</span></span></code></pre></div><h3 id=install-for-arch>Install For Arch<a href=#install-for-arch class=hanchor arialabel=Anchor>&#8983;</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pacman -S pulseaudio pavucontrol
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># OR</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>yay -S pulseaudio pavucontrol
</span></span></code></pre></div><h2 id=setting-up-a-new-audio-sink>Setting up a new audio sink<a href=#setting-up-a-new-audio-sink class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Make a new directory called <code>.pulse</code> in your home directory, this is the default <code>pulseaudio</code> config folder.
<strong>Note</strong> that depending on your OS, the default <code>pulseaudio</code> directory could be in a different path or different folder name. Check your <code>man</code> pages with <code>man pulseaudio</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span> mkdir ~/.pulse
</span></span></code></pre></div><p>Copy the default <code>pulseaudio</code> config, <code>default.pa</code>, into the new folder.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cp /etc/pulse/default.pa ~/.pulse/
</span></span></code></pre></div><p>Make sure the new file is in your directory</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ls -la ~/.pulse
</span></span></code></pre></div><p>Next, you need to find all of your current audio sinks:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pacmd list-sinks | grep -e <span style=color:#e6db74>&#39;index:&#39;</span> -e <span style=color:#e6db74>&#39;name:&#39;</span>
</span></span></code></pre></div><p>This will show all of your audio output devices. Your output should look something like this:</p><pre tabindex=0><code>    index: 0
 name: &lt;alsa_output.pci-0000_01_00.1.hdmi-stereo&gt;
  * index: 1
 name: &lt;alsa_output.usb-Razer_Razer_Kraken_7.1_V2_00000000-00.analog-stereo&gt;
    index: 2
 name: &lt;alsa_output.pci-0000_00_1f.3.analog-stereo&gt;
</code></pre><p>The <code>*</code> symbol shows your currently active audio output.</p><p>Copy the audio output you want to direct audio towards. For me, I want to be able to send all audio source I&rsquo;m monitoring to my headset.
So I would copy <code>alsa_output.usb-Razer_Razer_Kraken_7.1_V2_00000000-00.analog-stereo</code>.
Paste this in a empty text document. You&rsquo;ll need this info later.</p><p>Next, you&rsquo;ll want to make a dummy audio sink. To do this, open up
<code>~/.pulse/default.pa</code> in a text editor. Go all the way to the bottom of the document and use this template to define your new audio sink.</p><p>Here is a template that you can use:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>load-module module-null-sink sink_name=channelname
</span></span><span style=display:flex><span>update-sink-proplist channelname device.description=&#34;channelname Audio&#34;
</span></span><span style=display:flex><span>update-source-proplist channelname.monitor device.description=&#39;Monitor of channelname Audio&#39;
</span></span><span style=display:flex><span>load-module module-loopback source=channelname.monitor sink=outputdevicename latency_msec=1
</span></span></code></pre></div><p>Replace <code>channelname</code> with your audio sink name, then replace <code>outputdevicename</code> with the audio output device we copied earlier.</p><h3 id=example>Example<a href=#example class=hanchor arialabel=Anchor>&#8983;</a></h3><p>I used this to better control which audio source I want to be streamed on twitch through OBS but still be able to monitor and hear everything.
Here&rsquo;s what my <code>default.pa</code> looks like</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>load-module module-null-sink sink_name=twitchaudio
</span></span><span style=display:flex><span>update-sink-proplist twitchaudio device.description=&#39;Twitch Streaming Audio&#39;
</span></span><span style=display:flex><span>update-source-proplist twitchaudio.monitor device.description=&#39;Monitor of Twitch Audio&#39;
</span></span><span style=display:flex><span>load-module module-loopback source=twitchaudio.monitor sink=alsa_output.usb-Razer_Razer_Kraken_7.1_V2_00000000-00.analog-stereo latency_msec=1
</span></span></code></pre></div><h2 id=restart-pulseaudio-and-all-of-your-apps>Restart Pulseaudio And All Of Your Apps<a href=#restart-pulseaudio-and-all-of-your-apps class=hanchor arialabel=Anchor>&#8983;</a></h2><p>After you&rsquo;re done making custom audio sinks, make sure to restart <code>pulseaudio</code> using this command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pulseaudio --kill
</span></span></code></pre></div><p>This should automatically restart <code>pulseaudio</code>, but if it doesn&rsquo;t, you can manually start it with:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pulseaudio --start
</span></span></code></pre></div><p>After restarting <code>pulseaudio</code>, you&rsquo;ll find that there&rsquo;s no audio. You&rsquo;ll need to restart all your apps that streams audio to your speakers.</p><h2 id=pulseaudio-volume-control-app-pavucontrol>Pulseaudio Volume Control App (pavucontrol)<a href=#pulseaudio-volume-control-app-pavucontrol class=hanchor arialabel=Anchor>&#8983;</a></h2><p>From here launch <code>pavucontrol</code> and you&rsquo;ll be able to see your new audio sink in the <code>recording, playback, and output devices</code> tabs. `
This app will let you control where you want all of your audio sources to be directed to.</p><h2 id=misc>Misc<a href=#misc class=hanchor arialabel=Anchor>&#8983;</a></h2><p>For more info, check out the arch wiki page: <a href=https://wiki.archlinux.org/title/PulseAudio/Examples#Remapping_sinks>wiki.archlinux.org</a></p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://blog.rxkiro.xyz/posts/behold-comments/><span class=button__icon>←</span>
<span class=button__text>Behold... Comments</span></a></span>
<span class="button next"><a href=https://blog.rxkiro.xyz/posts/remove-untracked-files/><span class=button__text>Git: Removing Untracked Files</span>
<span class=button__icon>→</span></a></span></div></div><script type=text/javascript src=https://latest.cactus.chat/cactus.js></script><div id=cactus-comments></div><script>initComments({node:document.getElementById("cactus-comments"),defaultHomeserverUrl:"https://matrix.cactus.chat:8448",serverName:"cactus.chat",siteName:"blog.rxkiro.xyz",commentSectionId:"8e18ce855a25f3aa6907f833fc36c260"});const cactusComment=document.getElementsByClassName("cactus-editor-textarea")[0];cactusComment.rows=7</script></article></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2022 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div></body></html>